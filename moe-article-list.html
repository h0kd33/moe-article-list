<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../moe-style/moe-style.html">
<link rel="import" href="../moe-article-shell/moe-article-shell.html">
<link rel="import" href="../moe-paragraph/moe-paragraph.html">
<link rel="import" href="../moe-comment/moe-comment.html">
<dom-module id="moe-article-list">
    <style>
    :host {
        box-sizing: border-box;
    }
    
    #article {
        margin-bottom: 25px;
        border: solid #ccc;
        border-width: 1px 0;
        padding: 0 5px;
    }
    </style>
    <template>
        <section id="article">
            <template is="dom-repeat" items="[[article]]" as="article">
                <a id="image-anchor" href="#">
                    <img src="../img/image.jpg" alt="">
                </a>
                <div>
                    <span id="comment-title">[[article.commenttitle]]</span>
                    <span id="user-name">[[article.username]]</span>
                    <span id="identity">[[article.identity]]</span>
                    <span><paper-button id="replyBtn" on-click="_openArticle" mini>[返信]</paper-button></span>
                    <paper-button id="serial-number" mini>[[article.serial]]</paper-button>
                </div>
                <moe-paragraph id="paragraph">[[article.CONTENT]]</moe-paragraph>
                <template is="dom-repeat" items="[[article.comments]]" as="comment">
                    <!-- <paper-checkbox id="comment-checkbox" on-tap="_toggleSelection"></paper-checkbox> -->
                    <moe-comment id="comment" commenttitle="無標題" identity="QWEgvm32d" username="[[comment.NAME]]" serial="[[comment.POINT]]" image="[[comment.imgsrc]]" selected="[[comment.selected]]">[[comment.CONTENT]]</moe-comment>
                </template>
            </template>
        </section>
    </template>
</dom-module>
<script>
Polymer({

    is: 'moe-article-list',

    properties: {
        datas: Object
    },

    _openArticle: function() {
        console.log('open-article');
        this.fire('open-article');
    },

    // Element Lifecycle
    ready: function() {
        // `ready` is called after all elements have been configured, but
        // propagates bottom-up. This element's children are ready, but parents
        // are not.
        //
        // This is the point where you should make modifications to the DOM (when
        // necessary), or kick off any processes the element wants to perform.


        var arr = [{
            BOARDNAME: "綜合二",
            serial: 54764654,
            identity: 'dIW12Afc',
            commenttitle: "不會游泳怎麼辦?",
            username: "無名",
            CONTENT: '<a href="http://homu.komica.org/00/index.php?res=6503972">http://homu.komica.org/00/index.php?res=6503972</a><br><blockquote>會說初音過氣八成對這塊認識也不深</blockquote>有什麼數據來證明初音還沒過氣阿?<br>新投稿的作品數和再生數都逐年激減了耶<br> 布丁好吃',
            comments: [{
                BOARDNAME: "綜合二",
                POINT: 123456,
                SWATCHES: 1,
                TITLE: "不會游泳怎麼辦?",
                NAME: "無名",
                CONTENT: '<a href="http://homu.komica.org/00/index.php?res=6503972">http://homu.komica.org/00/index.php?res=6503972</a><br><blockquote>會說初音過氣八成對這塊認識也不深</blockquote>有什麼數據來證明初音還沒過氣阿?<br>新投稿的作品數和再生數都逐年激減了耶<br> 布丁好吃',
                imgNo: "01",
                REPLYCOUNT: "32"
            }, {
                BOARDNAME: "綜合二",
                POINT: 123456,
                SWATCHES: 1,
                TITLE: "不會游泳怎麼辦?",
                NAME: "無名",
                CONTENT: "<a class='post-number'>NO.1234</a>不會游泳，現在要進去海陸新訓了........<br>覺這一年當兵生活會很慘",
                imgNo: "01",
                REPLYCOUNT: "32"
            }, {
                BOARDNAME: "綜合二",
                POINT: 45623,
                SWATCHES: 5,
                TITLE: "ㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZㄈㄓZ",
                NAME: "ㄈㄓZ",
                CONTENT: "李嫌和王女原本約在高鐵台南站見面，因鄰居發現王母失蹤",
                imgNo: "02",
                REPLYCOUNT: "2",
                CLASS: "highlight"
            }, {
                BOARDNAME: "新聞速報",
                POINT: "78,645,456",
                SWATCHES: 3,
                TITLE: "",
                NAME: "",
                CONTENT: "外來種賤女狗公惱羞開始血尿跳針哭哭ㄛwwwwww<br>護航乙",
                imgNo: "03",
                REPLYCOUNT: "8"
            }, {
                BOARDNAME: "綜合二",
                POINT: 456456,
                SWATCHES: 4,
                TITLE: "",
                NAME: "",
                CONTENT: "<blockquote>搞不好李搞不好李搞不好李搞不好李搞不好李搞</blockquote>不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李w好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李搞不好李嫌跟王女真的有交往過<br>因為某某原因而否認了<br>就跟以前認識某女明明就有暗示我告白<br>結果我沒告白就到處抹黒我說我有嚴重妄想症一樣",
                imgNo: "04",
                REPLYCOUNT: "21"
            }, {
                BOARDNAME: "綜合二",
                POINT: 353453,
                SWATCHES: 7,
                TITLE: "",
                NAME: "",
                CONTENT: "無本文",
                imgNo: "15",
                REPLYCOUNT: "84"
            }, {
                BOARDNAME: "綜合二",
                POINT: 453,
                SWATCHES: 8,
                TITLE: "",
                NAME: "",
                CONTENT: "<a href='#'>www.google.com</a>為什麼支那賤畜一聽到台灣女生說話就射啦<br>我剛剛無聊上百度搜尋台灣女生，發現很多426很哈台灣的劍",
                imgNo: "16",
                REPLYCOUNT: "32"
            }, {
                BOARDNAME: "綜合二",
                POINT: 123456,
                SWATCHES: 3,
                TITLE: "",
                NAME: "",
                CONTENT: "問一下 問答板為什麼只能設3個問題? 我看其他人都25題耶",
                imgNo: "17",
                REPLYCOUNT: "4"
            }, {
                BOARDNAME: "綜合二",
                POINT: 453453,
                SWATCHES: 2,
                TITLE: "",
                NAME: "",
                CONTENT: "有島民學過速讀嗎?<br>我想要自學卻不知道要怎麼入門",
                imgNo: "18",
                REPLYCOUNT: "3"
            }, {
                BOARDNAME: "綜合二",
                POINT: 51245,
                SWATCHES: 3,
                TITLE: "",
                NAME: "",
                CONTENT: "有島民知道拿熱水沖屁眼完5分鐘在拿冷水沖是什麼感覺嗎",
                imgNo: "",
                REPLYCOUNT: "0"
            }, {
                BOARDNAME: "綜合二",
                POINT: 7857853435,
                SWATCHES: 1,
                TITLE: "",
                NAME: "",
                CONTENT: "有什麼地方可以吹冷氣又有插座?",
                imgNo: "20",
                REPLYCOUNT: "2"
            }]
        }];
        for (var i = 10; i--; i > 0) {
            arr.push(arr[0]);
        }
        this.article = arr;
    },
    attached: function() {
        this.$.paragraph.innerHTML = this.$.paragraph.children[0].innerText;
    }
});
</script>
